/*!
  * @license MIT (https://github.com/geotrev/undernet/blob/master/LICENSE)
  * Undernet v4.4.1 (https://undernet.io)
  * Copyright 2017-2019 George Treviranus
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).undernet={})}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?s(t):e}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){var t=f.FOCUSABLE_TAGS.map(function(t){return"".concat(e," ").concat(t).concat(f.NOT_VISUALLY_HIDDEN_CLASS)}).join(", ");return b(t)}var u=16,h=9,_=38,v=40,f={FOCUSABLE_TAGS:["a","button","input","object","select","textarea","[tabindex]"],KEYBOARD_CLASS:"using-keyboard",NOT_VISUALLY_HIDDEN_CLASS:":not(.is-visually-hidden)"},p="keydown",w="click",y=function(t,e,n){return!1===n?t.removeAttribute(e):"string"==typeof n||null===n?t.setAttribute(e,n):t.getAttribute(e)},A=function(t,e){return t.hasAttribute(e)},g=function(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelector(t)},b=function(t){return l((1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(t))},E=function(t,e,n){return"string"==typeof n||null===n?t.style[e]=n:t.style[e]},C=function(t){for(var e,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(e=t.classList).add.apply(e,i)},m=function(t){for(var e,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(e=t.classList).remove.apply(e,i)},k=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.length?n.filter(function(t){return e.classList.contains(t)}).length:e.classList.contains(n[0])},D=/(iphone|ipod|ipad)/i.test(navigator.userAgent),L=(n(T,[{key:"captureFocus",value:function(t,e){this._focusContainerSelector=t,this._focusableChildren=d(this._focusContainerSelector),this._focusableFirstChild=this._focusableChildren[0],this._focusableLastChild=this._focusableChildren[this._focusableChildren.length-1],e?e.useArrows&&(this._trapFocusWithArrows=e.useArrows||this._trapFocusWithArrows,document.addEventListener(p,this._handleFocusTrapWithArrows)):document.addEventListener(p,this._handleFocusTrapWithTab)}},{key:"releaseFocus",value:function(){this._trapFocusWithArrows?(document.removeEventListener(p,this._handleFocusTrapWithArrows),this._trapFocusWithArrows=!1):document.removeEventListener(p,this._handleFocusTrapWithTab)}},{key:"enableFocusOutline",value:function(){document.addEventListener(p,this._listenForKeyboard)}},{key:"disableFocusOutline",value:function(){this._listeningForKeydown?document.removeEventListener(p,this._listenForKeyboard):document.removeEventListener(w,this._listenForClick)}},{key:"_listenForKeyboard",value:function(){document.body.classList.add(f.KEYBOARD_CLASS),document.removeEventListener(p,this._listenForKeyboard),document.addEventListener(w,this._listenForClick),this._listeningForKeydown=!1}},{key:"_listenForClick",value:function(){document.body.classList.remove(f.KEYBOARD_CLASS),document.removeEventListener(w,this._listenForClick),document.addEventListener(p,this._listenForKeyboard),this._listeningForKeydown=!0}},{key:"_handleFocusTrapWithTab",value:function(t){var e=g(this._focusContainerSelector),n=document.activeElement===e,i=document.activeElement===this._focusableFirstChild,o=document.activeElement===this._focusableLastChild,a=t.which===h,r=t.which===u||t.shiftKey,s=!r&&a;r&&a&&(i||n)?(t.preventDefault(),this._focusableLastChild.focus()):s&&o&&(t.preventDefault(),this._focusableFirstChild.focus())}},{key:"_handleFocusTrapWithArrows",value:function(t){var e=document.activeElement===this._focusableFirstChild,n=document.activeElement===this._focusableLastChild,i=t.which===_,o=t.which===v;(i||o)&&(t.preventDefault(),e&&i?this._focusableLastChild.focus():n&&o?this._focusableFirstChild.focus():o?this._focusNextChild():i&&this._focusLastChild())}},{key:"_focusNextChild",value:function(){for(var t=0;t<this._focusableChildren.length;t++)if(this._focusableChildren[t]===document.activeElement){this._focusableChildren[t+1].focus();break}}},{key:"_focusLastChild",value:function(){for(var t=0;t<this._focusableChildren.length;t++)if(this._focusableChildren[t]===document.activeElement){this._focusableChildren[t-1].focus();break}}}]),T);function T(){e(this,T),this._listenForKeyboard=this._listenForKeyboard.bind(this),this._listenForClick=this._listenForClick.bind(this),this._handleFocusTrapWithTab=this._handleFocusTrapWithTab.bind(this),this._handleFocusTrapWithArrows=this._handleFocusTrapWithArrows.bind(this),this._focusContainerSelector="",this._focusableChildren=[],this._focusableFirstChild={},this._focusableLastChild={},this._listeningForKeydown=!1,this._trapFocusWithArrows=!1}var O="data-accordion",S="data-accordion-row",B="data-visible",R="data-target",M="data-toggle-multiple",F="data-parent",I="aria-expanded",P="aria-controls",x="aria-hidden",K="aria-labelledby",W="tabindex",N="click",H=function(t){return"Could not find accordion row with [data-visible] attribute associated with [data-target='".concat(t,"'].")},j=function(t){return"Could not find [data-accordion-row] associated with [data-target='".concat(t,"'].")},V=function(t){return"Could not find an id on your header associated with ".concat(t,".")},U=function(t){return"Could not find [data-accordion] attribute associated with [data-target='".concat(t,"'].")},X=function(t){return"Could not find accordion content block with id '".concat(t,"'; should match trigger with [data-target='").concat(t,"'].")},Y=(o(G,L),n(G,[{key:"start",value:function(){var e=this,t=this._getAccordionButtonSelector("[".concat(O,"]"));this._accordionButtons=b(t),this._accordionButtons.length&&this._accordionButtons.forEach(function(t){e._setup(t),t.addEventListener(N,e._render)})}},{key:"stop",value:function(){var e=this;this._accordionButtons.forEach(function(t){t.removeEventListener(N,e._render)})}},{key:"_setup",value:function(t){var e=y(t,R),n=y(t,F),i=g("#".concat(e));if(!n)throw new Error(U(e));if(!i)throw new Error(X(e));var o=this._getAccordionRowAttr(e),a=g(o);if(!a)throw new Error(j(e));var r=t.id;if(!r)throw new Error(V(o));var s=d("#".concat(i.id));y(t,P,e),y(i,K,r);var c=y(a,B);if(!c)throw new Error(H(e));"true"===c?(E(i,"maxHeight","".concat(i.scrollHeight,"px")),y(t,I,"true"),y(i,x,"false"),s.forEach(function(t){y(t,W,"0")})):(y(t,I,"false"),y(i,x,"true"),s.forEach(function(t){y(t,W,"-1")}))}},{key:"_render",value:function(t){t.preventDefault(),this._activeButton=t.target,this._setIds(),this._setActiveRow(),this._setActiveContainer(),this._setActiveContent(),this._setVisibleState(),A(this._activeContainer,M)||this._closeAllIfToggleable(),this._toggleSelectedAccordion(),this._activeRow=null,this._activeButton=null,this._activeContent=null,this._activeContainer=null}},{key:"_setActiveContent",value:function(){this._activeContent=g("#".concat(this._activeAccordionRowId))}},{key:"_setVisibleState",value:function(){var t=y(this._activeRow,B);this._nextButtonExpandState="true"===t?"false":"true",this._nextContentHiddenState="false"===this._nextButtonExpandState?"true":"false"}},{key:"_setIds",value:function(){this._activeContainerId=y(this._activeButton,F),this._activeAccordionRowId=y(this._activeButton,R)}},{key:"_setActiveContainer",value:function(){this._activeContainerAttr="[".concat(O,"='").concat(this._activeContainerId,"']"),this._activeContainer=g(this._activeContainerAttr)}},{key:"_setActiveRow",value:function(){this._activeRowAttr=this._getAccordionRowAttr(this._activeAccordionRowId),this._activeRow=g(this._activeRowAttr)}},{key:"_getAccordionButtonSelector",value:function(e){return this._headers.map(function(t){return"".concat(e," > [").concat(S,"] > ").concat(t," [").concat(R,"]")}).join(", ")}},{key:"_getAccordionRowAttr",value:function(t){return"[".concat(S,"='").concat(t,"']")}},{key:"_closeAllIfToggleable",value:function(){var e=this,t="".concat(this._activeContainerAttr," > [").concat(S,"] > [").concat(x,"]"),n=b(t),i=this._getAccordionButtonSelector(this._activeContainerAttr),o=b(i),a=b("".concat(this._activeContainerAttr," > [").concat(S,"]"));n.filter(function(t){return t!==e._activeContent}).forEach(function(t){return E(t,"maxHeight",null)}),d(t).forEach(function(t){t.setAttribute(W,"-1")}),this._toggleAttributeInCollection(a,B,"false"),this._toggleAttributeInCollection(o,I,"false"),this._toggleAttributeInCollection(n,x,"true")}},{key:"_toggleSelectedAccordion",value:function(){var n=this;y(this._activeRow,B,this._nextButtonExpandState),y(this._activeButton,I,this._nextButtonExpandState),y(this._activeContent,x,this._nextContentHiddenState),d("#".concat(this._activeAccordionRowId)).forEach(function(t){var e="true"===n._nextButtonExpandState?"0":"-1";y(t,W,e)}),E(this._activeContent,"maxHeight")?E(this._activeContent,"maxHeight",null):E(this._activeContent,"maxHeight","".concat(this._activeContent.scrollHeight,"px"))}},{key:"_toggleAttributeInCollection",value:function(t,e,n){t.forEach(function(t){return y(t,e,n)})}}]),G);function G(){var t;return e(this,G),(t=c(this,a(G).call(this)))._render=t._render.bind(s(t)),t._accordionButtons=[],t._accordionContentsAttr="",t._accordionContents=[],t._activeContainer={},t._activeButton={},t._activeAccordionRowId="",t._activeRowAttr="",t._activeRow="",t._activeContainerId="",t._activeContainerAttr="",t._activeContent={},t._activeButtonExpandState="",t._activeContentHiddenState="",t._headers=["h1","h2","h3","h4","h5","h6"],t}var q=9,z=16,J=27,Q=38,Z=40,$={DATA_DROPDOWN:"data-dropdown",DATA_TARGET:"data-target",DATA_PARENT:"data-parent",DATA_VISIBLE:"data-visible",TABINDEX:"tabindex",ARIA_HASPOPUP:"aria-haspopup",ARIA_CONTROLS:"aria-controls",ARIA_LABELLEDBY:"aria-labelledby",ARIA_EXPANDED:"aria-expanded",ROLE:"role"},tt="keydown",et="click",nt="Could not setup dropdown. Make sure it has a valid [data-dropdown] attribute with a unique id as its value.",it=function(t){return"Could not find menu associated with ".concat(t,".")},ot=function(t){return"Could not find any list items associated with ".concat(t,".")},at=function(t){return"Could not find any button or anchor elements associated with ".concat(t,".")},rt="Could not find dropdown button's [data-parent] attribute.",st=(o(ct,L),n(ct,[{key:"start",value:function(){var e=this;this._dropdowns=b("".concat(this._dropdownContainerAttr)),this._dropdownButtons=b("".concat(this._dropdownContainerAttr," > ").concat(this._dropdownTargetAttr)),this._dropdowns.length&&this._dropdowns.forEach(function(t){return e._setup(t)}),this._dropdownButtons.forEach(function(t){t.addEventListener(et,e._render),t.addEventListener(tt,e._renderWithKeys)})}},{key:"stop",value:function(){var e=this;this._dropdownButtons.forEach(function(t){t.removeEventListener(et,e._render),t.removeEventListener(tt,e._renderWithKeys)})}},{key:"_setup",value:function(t){var e=t.getAttribute($.DATA_DROPDOWN);if(!e)throw new Error(nt);var n="[".concat($.DATA_DROPDOWN,'="').concat(e,'"]'),i=g("".concat(n," > ").concat(this._dropdownTargetAttr));if(!y(i,$.DATA_PARENT))throw new Error(rt);var o=g("".concat(n," > ul"));if(!o)throw new Error(it(n));y(o,$.ARIA_LABELLEDBY,i.id),y(i,$.ARIA_CONTROLS,o.id),y(i,$.ARIA_HASPOPUP,"true"),y(i,$.ARIA_EXPANDED,"false");var a="".concat(n," > ul > li"),r=b(a);if(!r.length)throw new Error(ot(n));r.forEach(function(t){return y(t,$.ROLE,"none")});var s=this._getDropdownLinks(n);if(!s.length)throw new Error(at(n));s.forEach(function(t){y(t,$.ROLE,"menuitem"),y(t,$.TABINDEX,"-1")})}},{key:"_render",value:function(t,e){t.preventDefault(),t.stopPropagation(),this._handleOpenDropdown(t),this._activeDropdownButton=t.target,this._setActiveDropdownId(),this._setActiveDropdown(),this._setActiveDropdownMenu(),this._setVisibleState(),this._listenToClose(),this._startEvents(),e&&e===Q?this._lastDropdownLink.focus():this._firstDropdownLink.focus(),D&&E(document.body,"cursor","pointer")}},{key:"_handleClose",value:function(t){t.preventDefault(),D&&E(document.body,"cursor","auto"),this.releaseFocus(),this._handleHideState(),this._listenToRender(),this._stopEvents(),this._allowFocusReturn&&this._handleReturnFocus(),this._activeDropdownButton=null,this._activeDropdownId=null,this._activeDropdown=null}},{key:"_listenToRender",value:function(){this._activeDropdownButton.removeEventListener(et,this._handleClose),this._activeDropdownButton.addEventListener(et,this._render)}},{key:"_handleHideState",value:function(){var e=this;y(this._activeDropdownButton,$.ARIA_EXPANDED,"false"),y(this._activeDropdown,$.DATA_VISIBLE,"false"),this._activeDropdownLinks.forEach(function(t){y(t,$.TABINDEX,"-1"),t.removeEventListener(et,e._handleClose)})}},{key:"_stopEvents",value:function(){document.removeEventListener(tt,this._handleEscapeKeyPress),document.removeEventListener(et,this._handleOffMenuClick)}},{key:"_setActiveDropdownId",value:function(){this._activeDropdownId=y(this._activeDropdownButton,$.DATA_PARENT)}},{key:"_startEvents",value:function(){var e=this;document.addEventListener(tt,this._handleEscapeKeyPress),document.addEventListener(et,this._handleOffMenuClick),this._activeDropdownLinks=this._getDropdownLinks(this._activeDropdownAttr),this._firstDropdownLink=this._activeDropdownLinks[0],this._lastDropdownLink=this._activeDropdownLinks[this._activeDropdownLinks.length-1],this._firstDropdownLink.addEventListener(tt,this._handleFirstTabClose),this._lastDropdownLink.addEventListener(tt,this._handleLastTabClose),this._activeDropdownLinks.forEach(function(t){y(t,$.TABINDEX,"0"),t.addEventListener(et,e._handleClose)}),this.captureFocus("".concat(this._activeDropdownAttr," > ul"),{useArrows:!0})}},{key:"_listenToClose",value:function(){this._activeDropdownButton.removeEventListener(et,this._render),this._activeDropdownButton.addEventListener(et,this._handleClose)}},{key:"_setVisibleState",value:function(){y(this._activeDropdownButton,$.ARIA_EXPANDED,"true"),y(this._activeDropdown,$.DATA_VISIBLE,"true")}},{key:"_setActiveDropdownMenu",value:function(){this._activeDropdownMenuId=y(this._activeDropdownButton,$.DATA_TARGET),this._activeDropdownMenu=g("#".concat(this._activeDropdownMenuId))}},{key:"_setActiveDropdown",value:function(){this._activeDropdownAttr="[".concat($.DATA_DROPDOWN,'="').concat(this._activeDropdownId,'"]'),this._activeDropdown=g(this._activeDropdownAttr)}},{key:"_handleOpenDropdown",value:function(t){this._activeDropdownButton&&(this._allowFocusReturn=!1,this._handleClose(t),this._allowFocusReturn=!0)}},{key:"_handleFirstTabClose",value:function(t){var e=t.which===z||t.shiftKey,n=t.which===q;e&&n&&this._handleClose(t)}},{key:"_handleLastTabClose",value:function(t){var e=t.which===z||t.shiftKey;t.which!==q||e||this._handleClose(t)}},{key:"_renderWithKeys",value:function(t){t.which!==Q&&t.which!==Z||this._render(t,t.which)}},{key:"_handleEscapeKeyPress",value:function(t){t.which===J&&this._handleClose(t)}},{key:"_handleOffMenuClick",value:function(t){t.target!==this._activeDropdownButton&&t.target!==this._activeDropdownMenu&&this._handleClose(t)}},{key:"_handleReturnFocus",value:function(){y(this._activeDropdownButton,$.TAB_INDEX,"-1"),this._activeDropdownButton.focus(),y(this._activeDropdownButton,$.TAB_INDEX,!1)}},{key:"_getDropdownLinks",value:function(t){return b("".concat(t," > ul > li > a, ").concat(t," > ul > li > button"))}}]),ct);function ct(){var t;return e(this,ct),(t=c(this,a(ct).call(this)))._render=t._render.bind(s(t)),t._handleFirstTabClose=t._handleFirstTabClose.bind(s(t)),t._handleLastTabClose=t._handleLastTabClose.bind(s(t)),t._renderWithKeys=t._renderWithKeys.bind(s(t)),t._handleClose=t._handleClose.bind(s(t)),t._handleEscapeKeyPress=t._handleEscapeKeyPress.bind(s(t)),t._handleOffMenuClick=t._handleOffMenuClick.bind(s(t)),t._activeDropdown={},t._activeDropdownButton=null,t._activeDropdownMenu={},t._activeDropdownLinks=[],t._allowFocusReturn=!0,t._activeDropdownId="",t._activeDropdownAttr="",t._activeDropdownMenuId="",t._firstDropdownLink={},t._lastDropdownLink={},t._dropdownButtons=[],t._dropdowns=[],t._dropdownContainerAttr="[".concat($.DATA_DROPDOWN,"]"),t._dropdownTargetAttr="[".concat($.DATA_TARGET,"]"),t}var lt=27,dt="data-modal",ut="data-target",ht="data-visible",_t="data-close",vt="data-parent",ft="aria-hidden",pt="aria-modal",wt="role",yt="tabindex",At="no-scroll",gt="keydown",bt="click",Et=function(t){return"Could not find modal trigger with id ".concat(t,".")},Ct="Could not detect an id on your [data-modal] element. Please add a value matching the modal trigger's [data-parent] attribute.",mt=function(t){return"Could not find a [data-parent='".concat(t,"'] attribute within your [data-modal='").concat(t,"'] element.")},kt=(o(Dt,L),n(Dt,[{key:"start",value:function(){var e=this;this._modals=b(this._modalContainerAttr),d(this._modalContainerAttr).forEach(function(t){y(t,yt,"-1")}),this._modals.length&&this._modals.forEach(function(t){e._setup(t)})}},{key:"stop",value:function(){var i=this;this._modals.forEach(function(t){var e=y(t,dt),n=g("[".concat(ut,"='").concat(e,"']"));if(!n)throw new Error(Et(e));n.removeEventListener(bt,i._render)})}},{key:"_setup",value:function(t){var e=y(t,dt);if(!e)throw new Error(Ct);var n=g("[".concat(vt,"='").concat(e,"']"),t);if(!n)throw new Error(mt(e));var i=g("[".concat(dt,"='").concat(e,"']"));y(i,ft,"true"),y(i,ht,"false"),y(n,pt,"true"),y(n,wt,"dialog");var o=g("[".concat(ut,"='").concat(e,"']"));if(!o)throw new Error(Et(e));o.addEventListener(bt,this._render)}},{key:"_render",value:function(t){t.preventDefault(),this._activeModalButton=t.target,this._setActiveModalId(),this._setActiveModalOverlay(),this._setActiveModal(),this._enableFocusOnChildren(),this._handleScrollbarOffset(),this._handleScrollStop(),this.captureFocus(this._activeModalSelector),this._setAttributes(),this._setCloseButtons(),this._handleModalFocus(),this._activeModalOverlay.scrollTop=0,this._startEvents()}},{key:"_handleClose",value:function(t){t.preventDefault(),this._stopEvents(),this._handleReturnFocus(),this._removeAttributes(),this.releaseFocus(),this._handleScrollRestore(),this._removeScrollbarOffset(),this._disableFocusOnChildren(),D&&E(this._activeModalOverlay,"cursor","auto"),this._activeModalId=null,this._activeModalButton=null,this._activeModal=null}},{key:"_setCloseButtons",value:function(){this._activeModalCloseButtons=b("".concat(this._activeModalSelector," [").concat(_t,"]"))}},{key:"_setActiveModalId",value:function(){this._activeModalId=y(this._activeModalButton,ut)}},{key:"_setActiveModalOverlay",value:function(){this._activeModalOverlay=g("[".concat(dt,"='").concat(this._activeModalId,"']"))}},{key:"_removeAttributes",value:function(){y(this._activeModalOverlay,ht,"false"),y(this._activeModalOverlay,ft,"true"),y(this._activeModal,yt,!1)}},{key:"_disableFocusOnChildren",value:function(){d(this._activeModalSelector).forEach(function(t){y(t,yt,"-1")})}},{key:"_stopEvents",value:function(){var e=this;document.removeEventListener(gt,this._handleEscapeKeyPress),document.removeEventListener(bt,this._handleOverlayClick),this._activeModalCloseButtons.forEach(function(t){t.removeEventListener(bt,e._handleClose)})}},{key:"_setActiveModal",value:function(){this._activeModalSelector="[".concat(vt,"='").concat(this._activeModalId,"']"),this._activeModal=g(this._activeModalSelector,this._activeModalOverlay)}},{key:"_setAttributes",value:function(){y(this._activeModalOverlay,ft,"false"),y(this._activeModalOverlay,ht,"true"),D&&E(this._activeModalOverlay,"cursor","pointer")}},{key:"_startEvents",value:function(){var e=this;document.addEventListener(gt,this._handleEscapeKeyPress),document.addEventListener(bt,this._handleOverlayClick),this._activeModalCloseButtons.forEach(function(t){t.addEventListener(bt,e._handleClose)})}},{key:"_handleModalFocus",value:function(){y(this._activeModal,yt,"-1"),this._activeModal.focus()}},{key:"_enableFocusOnChildren",value:function(){d(this._activeModalSelector).forEach(function(t){t.setAttribute(yt,"0")})}},{key:"_getScrollbarOffset",value:function(){return window.innerWidth-document.body.getBoundingClientRect().right}},{key:"_handleScrollbarOffset",value:function(){this._scrollbarIsVisible()&&(this._scrollbarOffset=this._getScrollbarOffset(),this._originalPagePaddingRight=E(document.body,"paddingRight"),E(document.body,"paddingRight","".concat(this._scrollbarOffset,"px")))}},{key:"_scrollbarIsVisible",value:function(){if("number"==typeof window.innerWidth)return window.innerWidth>document.body.getBoundingClientRect().right}},{key:"_removeScrollbarOffset",value:function(){var t=this,e=this._originalPagePaddingRight;E(this._activeModalOverlay,"paddingLeft","".concat(this._scrollbarOffset,"px")),setTimeout(function(){return E(t._activeModalOverlay,"paddingLeft","")},500),E(document.body,"paddingRight",e?"".concat(e,"px"):"")}},{key:"_handleOverlayClick",value:function(t){t.target===this._activeModalOverlay&&this._handleClose(t)}},{key:"_handleEscapeKeyPress",value:function(t){t.which===lt&&this._handleClose(t)}},{key:"_handleReturnFocus",value:function(){y(this._activeModalButton,yt,"-1"),this._activeModalButton.focus(),y(this._activeModalButton,yt,!1)}},{key:"_handleScrollRestore",value:function(){m(document.body,At),m(document.documentElement,At)}},{key:"_handleScrollStop",value:function(){C(document.body,At),C(document.documentElement,At)}}]),Dt);function Dt(){var t;return e(this,Dt),(t=c(this,a(Dt).call(this)))._render=t._render.bind(s(t)),t._handleClose=t._handleClose.bind(s(t)),t._handleOverlayClick=t._handleOverlayClick.bind(s(t)),t._handleEscapeKeyPress=t._handleEscapeKeyPress.bind(s(t)),t._modals=[],t._modalButtons=[],t._activeModalButton={},t._activeModalOverlay={},t._activeModal={},t._activeModalId="",t._activeModalSelector="",t._activeModalCloseButtons=[],t._originalPagePaddingRight="",t._scrollbarOffset=0,t._modalContainerAttr="[".concat(dt,"]"),t}var Lt=27,Tt="data-tooltip",Ot="data-visible",St="data-target",Bt="role",Rt="aria-describedby",Mt="is-drop-left",Ft="is-drop-right",It="mouseover",Pt="mouseout",xt="focus",Kt="blur",Wt="keydown",Nt="Could not find your tooltip's id.",Ht=function(t){return"Could not find a tooltip trigger with id of ".concat(t,".")},jt=function(t){return"Could not find a tooltip with id of ".concat(t,".")},Vt=(n(Ut,[{key:"start",value:function(){var e=this;this._allTooltips=b("[".concat(Tt,"]")),this._allTooltips.forEach(function(t){e._setup(t)})}},{key:"stop",value:function(){var i=this;this._allTooltips.forEach(function(t){var e=y(t,Tt),n=g(i._getTrigger(e),t);(i._activeTooltip||i._activeTrigger)&&i._handleClose(),n.removeEventListener(It,i._render),n.removeEventListener(xt,i._render)})}},{key:"_setup",value:function(t){var e=y(t,Tt);if(!e)throw new Error(Nt);var n=g(this._getTrigger(e),t),i=g("#".concat(e),t);if(!n)throw new Error(Ht(e));if(!i)throw new Error(jt(e));y(n,Rt,e),y(i,Bt,"tooltip"),n.addEventListener(It,this._render),n.addEventListener(xt,this._render)}},{key:"_render",value:function(t){this._activeTrigger=t.target;var e=this._activeTrigger.getAttribute(St);this._activeTooltip=document.getElementById(e),this._isLeftOrRight()?this._alignTooltip("height"):this._alignTooltip("width"),this._setVisibleState(),this._startCloseEvents()}},{key:"_handleClose",value:function(){this._setHideState(),this._startOpenEvents(),this._activeTrigger=null,this._activeTooltip=null}},{key:"_setVisibleState",value:function(){y(this._activeTooltip,Ot,"true")}},{key:"_setHideState",value:function(){y(this._activeTooltip,Ot,"false")}},{key:"_startCloseEvents",value:function(){this._activeTrigger.removeEventListener(It,this._render),this._activeTrigger.removeEventListener(xt,this._render),this._activeTrigger.addEventListener(Pt,this._handleClose),this._activeTrigger.addEventListener(Kt,this._handleClose),document.addEventListener(Wt,this._handleEscapeKeyPress),D&&E(document.body,"cursor","pointer")}},{key:"_handleEscapeKeyPress",value:function(t){t.which===Lt&&this._handleClose()}},{key:"_startOpenEvents",value:function(){this._activeTrigger.removeEventListener(Pt,this._handleClose),this._activeTrigger.removeEventListener(Kt,this._handleClose),this._activeTrigger.addEventListener(It,this._render),this._activeTrigger.addEventListener(xt,this._render),document.removeEventListener(Wt,this._handleEscapeKeyPress),D&&E(document.body,"cursor","auto")}},{key:"_alignTooltip",value:function(t){var e=this._getSize(this._activeTrigger,t),n=this._getSize(this._activeTooltip,t),i=n<e?(e-n)/2:(n-e)/-2;E(this._activeTooltip,"height"===t?"top":"left","".concat(i,"px"))}},{key:"_getTrigger",value:function(t){return"[".concat(St,'="').concat(t,'"]')}},{key:"_getSize",value:function(t,e){return Math.floor(t.getBoundingClientRect()[e])}},{key:"_isLeftOrRight",value:function(){return k(this._activeTooltip,Mt,Ft)}}]),Ut);function Ut(){e(this,Ut),this._render=this._render.bind(this),this._handleClose=this._handleClose.bind(this),this._handleEscapeKeyPress=this._handleEscapeKeyPress.bind(this),this._activeTrigger=null,this._activeTooltip=null,this._allTooltips=[]}var Xt=new Y,Yt=new st,Gt=new kt,qt=new Vt,zt=new L,Undernet={Modals:Gt,Accordions:Xt,Dropdowns:Yt,Tooltips:qt,Utils:zt,start:function(){Undernet.Modals.start(),Undernet.Accordions.start(),Undernet.Dropdowns.start(),Undernet.Tooltips.start(),Undernet.Utils.enableFocusOutline()},stop:function(){Undernet.Modals.stop(),Undernet.Accordions.stop(),Undernet.Dropdowns.stop(),Undernet.Utils.disableFocusOutline()}};window.Undernet=Undernet,t.Accordions=Xt,t.Dropdowns=Yt,t.Modals=Gt,t.Tooltips=qt,t.Undernet=Undernet,t.Utils=zt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=undernet.bundle.min.js.map
